// Complete Medical Database
const medicalDatabase = {
    // 1. Blood Pressure
    "high bp": {
        hindi: "рд╣рд╛рдИ рдмреАрдкреА",
        advice: "рджрд╡рд╛ рд╕рдордп рдкрд░ рд▓реЗрдВред рдирдордХ рдХрдо рдЦрд╛рдПрдВред рд░реЛрдЬ 30 рдорд┐рдирдЯ рдЯрд╣рд▓реЗрдВред",
        avoid: "рддрд▓рд╛ рд╣реБрдЖ рдЦрд╛рдирд╛, рдЕрдзрд┐рдХ рдирдордХ, рддрдирд╛рд╡ рд╕реЗ рдмрдЪреЗрдВ",
        emergency: "рд╕реАрдиреЗ рдореЗрдВ рджрд░реНрдж/рд╕рд╛рдВрд╕ рд▓реЗрдиреЗ рдореЗрдВ рддрдХрд▓реАрдл рд╣реЛ рддреЛ рддреБрд░рдВрдд рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдВ"
    },
    "low bp": {
        hindi: "рд▓реЛ рдмреАрдкреА",
        advice: "рдирдордХреАрди рдмрд┐рд╕реНрдХреБрдЯ рдЦрд╛рдПрдВред рдкрд╛рдиреА рдЕрдзрд┐рдХ рдкрд┐рдПрдВред рдЫреЛрдЯреЗ-рдЫреЛрдЯреЗ рдЕрдВрддрд░рд╛рд▓ рдкрд░ рдЦрд╛рдПрдВред",
        avoid: "рдПрдХрджрдо рд╕реЗ рди рдЙрдареЗрдВ, рджреЗрд░ рддрдХ рдЦрдбрд╝реЗ рди рд░рд╣реЗрдВ",
        emergency: "рдмреЗрд╣реЛрд╢реА рдЖрдП рддреЛ рддреБрд░рдВрдд рд▓реЗрдЯ рдЬрд╛рдПрдВ рдФрд░ рдкреИрд░ рдКрдкрд░ рдЙрдард╛рдПрдВ"
    },

    // 2. Cholesterol
    "high cholesterol": {
        hindi: "рд╣рд╛рдИ рдХреЛрд▓реЗрд╕реНрдЯреНрд░реЙрд▓",
        advice: "рдУрдЯреНрд╕, рдирдЯреНрд╕, рд╣рд░реА рд╕рдмреНрдЬрд┐рдпрд╛рдВ рдЦрд╛рдПрдВред рд░реЛрдЬ 45 рдорд┐рдирдЯ рд╡реЙрдХ рдХрд░реЗрдВред",
        avoid: "рддрд▓рд╛ рдЦрд╛рдирд╛, рд░реЗрдб рдореАрдЯ, рдлрд╛рд╕реНрдЯ рдлреВрдб",
        emergency: "рд╕реАрдиреЗ рдореЗрдВ рджрд░реНрдж рд╣реЛ рддреЛ рддреБрд░рдВрдд рдЬрд╛рдВрдЪ рдХрд░рд╡рд╛рдПрдВ"
    },
    "low cholesterol": {
        hindi: "рд▓реЛ рдХреЛрд▓реЗрд╕реНрдЯреНрд░реЙрд▓",
        advice: "рдЕрдВрдбреЗ рдХреА рдЬрд░реНрджреА, рдШреА рд╕рдВрддреБрд▓рд┐рдд рдорд╛рддреНрд░рд╛ рдореЗрдВ рд▓реЗрдВред рдбреЙрдХреНрдЯрд░ рд╕реЗ рд╡рд┐рдЯрд╛рдорд┐рди рдЪреЗрдХ рдХрд░рд╡рд╛рдПрдВред",
        avoid: "рдлреИрдЯ рдкреВрд░реА рддрд░рд╣ рди рдЫреЛрдбрд╝реЗрдВ",
        emergency: "рдмрд╣реБрдд рдХрдо рд╣реЛрдиреЗ рдкрд░ рд╣реА рдЖрдкрд╛рддрдХрд╛рд▓"
    },

    // 3. Heart & Chest
    "heart attack": {
        hindi: "рд╣рд╛рд░реНрдЯ рдЕрдЯреИрдХ",
        advice: "рдПрд╕реНрдкрд┐рд░рд┐рди рдХреА рдЧреЛрд▓реА рдЪрдмрд╛рдПрдВред рд╢рд╛рдВрдд рдмреИрдареЗрдВред",
        avoid: "рд╣рд┐рд▓реЗрдВ-рдбреБрд▓реЗрдВ рдирд╣реАрдВ, рдЦреБрдж рдЧрд╛рдбрд╝реА рди рдЪрд▓рд╛рдПрдВ",
        emergency: "рддреБрд░рдВрдд рдПрдореНрдмреБрд▓реЗрдВрд╕ рдмреБрд▓рд╛рдПрдВ (102 рдбрд╛рдпрд▓ рдХрд░реЗрдВ)"
    },
    "chest pain": {
        hindi: "рд╕реАрдиреЗ рдореЗрдВ рджрд░реНрдж",
        advice: "рдЧрд╣рд░реА рд╕рд╛рдВрд╕ рд▓реЗрдВред рдЕрдЧрд░ рдЕрд╕реНрдердорд╛ рд╣реИ рддреЛ рдЗрдирд╣реЗрд▓рд░ рдпреВрдЬ рдХрд░реЗрдВред",
        avoid: "рдзреВрдореНрд░рдкрд╛рди, рднрд╛рд░реА рдПрдХреНрд╕рд░рд╕рд╛рдЗрдЬ",
        emergency: "15 рдорд┐рдирдЯ рд╕реЗ рдЬреНрдпрд╛рджрд╛ рджрд░реНрдж рд╣реЛ рддреЛ рддреБрд░рдВрдд рдЕрд╕реНрдкрддрд╛рд▓ рдЬрд╛рдПрдВ"
    },
     // Diabetes (New Addition)
    "diabetes": {
        hindi: "рдордзреБрдореЗрд╣",
        advice: "рдирд┐рдпрдорд┐рдд рдмреНрд▓рдб рд╢реБрдЧрд░ рдЪреЗрдХ рдХрд░реЗрдВред рджрд╡рд╛/рдЗрдВрд╕реБрд▓рд┐рди рд╕рдордп рдкрд░ рд▓реЗрдВред рд╣рд░реА рд╕рдмреНрдЬрд┐рдпрд╛рдВ рдЦрд╛рдПрдВред",
        avoid: "рдЪреАрдиреА, рдорд┐рдард╛рдИ, рд╕рдлреЗрдж рдЪрд╛рд╡рд▓, рдкреНрд░реЛрд╕реЗрд╕реНрдб рдлреВрдб",
        emergency: "рдЪрдХреНрдХрд░ рдЖрдП рдпрд╛ рдмреЗрд╣реЛрд╢реА рд╣реЛ рддреЛ рддреБрд░рдВрдд рдЧреНрд▓реВрдХреЛрдЬ рд▓реЗрдВ"
    },
    // 4. Pain Related
    "back pain": {
        hindi: "рдХрдорд░ рджрд░реНрдж",
        advice: "рдЧрд░реНрдо рдкрд╛рдиреА рдХреА рдмреЛрддрд▓ рд╕реЗ рд╕рд┐рдХрд╛рдИ рдХрд░реЗрдВред рд╕реАрдзреЗ рд▓реЗрдЯреЗрдВред",
        avoid: "рднрд╛рд░реА рд╕рд╛рдорд╛рди рди рдЙрдард╛рдПрдВ, рдЭреБрдХрдХрд░ рди рдмреИрдареЗрдВ",
        emergency: "рдкреИрд░реЛрдВ рдореЗрдВ рдХрдордЬреЛрд░реА рдпрд╛ рд╕реБрдиреНрдирдкрди рд╣реЛ рддреЛ MRI рдХрд░рд╡рд╛рдПрдВ"
    },
    "muscle pain": {
        hindi: "рдорд╛рдВрд╕рдкреЗрд╢рд┐рдпреЛрдВ рдореЗрдВ рджрд░реНрдж",
        advice: "рд╣рд▓реНрдХреА рдорд╛рд▓рд┐рд╢ рдХрд░реЗрдВред рдореИрдЧреНрдиреАрд╢рд┐рдпрдо рдпреБрдХреНрдд рдЦрд╛рдирд╛ рдЦрд╛рдПрдВред",
        avoid: "рднрд╛рд░реА рд╡рд░реНрдХрдЖрдЙрдЯ, рдардВрдбреА рд╣рд╡рд╛ рдХреЗ рд╕рдВрдкрд░реНрдХ рдореЗрдВ рдЖрдирд╛",
        emergency: "рджрд░реНрдж 1 рд╣рдлреНрддреЗ рд╕реЗ рдЬреНрдпрд╛рджрд╛ рд░рд╣реЗ рддреЛ рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдВ"
    },

    // 5. Stomach Issues
    "stomach pain": {
        hindi: "рдкреЗрдЯ рджрд░реНрдж",
        advice: "рдЧрд░реНрдо рдкрд╛рдиреА рдХреА рдмреЛрддрд▓ рд╕реЗ рд╕рд┐рдХрд╛рдИ рдХрд░реЗрдВред рд╣реАрдВрдЧ-рдЕрдЬрд╡рд╛рдЗрди рдХрд╛ рдкрд╛рдиреА рдкрд┐рдПрдВред",
        avoid: "рддреЗрд▓-рдорд╕рд╛рд▓реЗрджрд╛рд░ рдЦрд╛рдирд╛, рдардВрдбрд╛ рдкрд╛рдиреА",
        emergency: "рджрд░реНрдж рдмрд╣реБрдд рддреЗрдЬ рд╣реЛ рдпрд╛ 24 рдШрдВрдЯреЗ рд╕реЗ рдЬреНрдпрд╛рджрд╛ рд░рд╣реЗ рддреЛ рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдВ"
    },
    "indigestion": {
        hindi: "рдЕрдкрдЪ",
        advice: "рдЕрджрд░рдХ рдХреА рдЪрд╛рдп рдкрд┐рдПрдВред рдЫрд╛рдЫ рдпрд╛ рд╕реМрдВрдл рдХрд╛ рдкрд╛рдиреА рд▓реЗрдВред",
        avoid: "рднрд╛рд░реА рдЦрд╛рдирд╛, рд╕реЛрдиреЗ рд╕реЗ рдареАрдХ рдкрд╣рд▓реЗ рдЦрд╛рдирд╛",
        emergency: "рдЙрд▓реНрдЯреА/рджрд╕реНрдд рдмрдВрдж рди рд╣реЛ рддреЛ рдЕрд╕реНрдкрддрд╛рд▓ рдЬрд╛рдПрдВ"
    },

    // 6. Fever/Cold
    "fever": {
        hindi: "рдмреБрдЦрд╛рд░",
        advice: "рдкреЗрд░рд╛рд╕рд┐рдЯрд╛рдореЛрд▓ рд▓реЗрдВред рдардВрдбреЗ рдкрд╛рдиреА рдХреА рдкрдЯреНрдЯреА рд░рдЦреЗрдВред рднрд░рдкреВрд░ рдЖрд░рд╛рдо рдХрд░реЗрдВред",
        avoid: "рдардВрдбрд╛ рдкрд╛рдиреА, рдПрд╕реА рдХреЗ рд╕рд╛рдордиреЗ рдмреИрдардирд╛",
        emergency: "103┬░F рд╕реЗ рдЬреНрдпрд╛рджрд╛ рдмреБрдЦрд╛рд░ рдпрд╛ 3 рджрд┐рди рд╕реЗ рдЬреНрдпрд╛рджрд╛ рд░рд╣реЗ рддреЛ рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдВ"
    },
    "cold": {
        hindi: "рд╕рд░реНрджреА-рдЬреБрдХрд╛рдо",
        advice: "рдЧрд░реНрдо рдкрд╛рдиреА рд╕реЗ рднрд╛рдк рд▓реЗрдВред рдЕрджрд░рдХ-рд╢рд╣рдж рдХреА рдЪрд╛рдп рдкрд┐рдПрдВред",
        avoid: "рдЖрдЗрд╕рдХреНрд░реАрдо, рдардВрдбреА рдЪреАрдЬреЗрдВ",
        emergency: "рд╕рд╛рдВрд╕ рд▓реЗрдиреЗ рдореЗрдВ рддрдХрд▓реАрдл рд╣реЛ рддреЛ рдЕрд╕реНрдкрддрд╛рд▓ рдЬрд╛рдПрдВ"
    },

    // 7. Thyroid
    "thyroid": {
        hindi: "рдерд╛рдпрд░рд╛рдЗрдб",
        advice: "рдирд┐рдпрдорд┐рдд рджрд╡рд╛ рд▓реЗрдВред рдбреЙрдХреНрдЯрд░ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдиреБрд╕рд╛рд░ рдЬрд╛рдВрдЪ рдХрд░рд╡рд╛рдПрдВред",
        avoid: "рд╕реЛрдпрд╛ рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ (рдЕрдЧрд░ рд╣рд╛рдЗрдкреЛрдерд╛рдпрд░реЙрдЗрдбрд┐рдЬреНрдо рд╣реИ)",
        emergency: "рд╡рдЬрди рддреЗрдЬреА рд╕реЗ рдШрдЯреЗ/рдмрдврд╝реЗ рддреЛ рдЬрд╛рдВрдЪ рдХрд░рд╡рд╛рдПрдВ"
    },

    // 8. Fainting
    "faint": {
        hindi: "рдмреЗрд╣реЛрд╢реА",
        advice: "рд▓реЗрдЯ рдЬрд╛рдПрдВред рдкреИрд░ рдКрдкрд░ рдЙрдард╛рдПрдВред рд╣реЛрд╢ рдореЗрдВ рдЖрдиреЗ рдкрд░ ORS рдпрд╛ рдиреАрдВрдмреВ рдкрд╛рдиреА рдкрд┐рдПрдВред",
        avoid: "рдПрдХрджрдо рд╕реЗ рдЦрдбрд╝реЗ рди рд╣реЛрдВ, рдзреВрдк рдореЗрдВ рдЬреНрдпрд╛рджрд╛ рди рд░рд╣реЗрдВ",
        emergency: "5 рдорд┐рдирдЯ рд╕реЗ рдЬреНрдпрд╛рджрд╛ рдмреЗрд╣реЛрд╢ рд░рд╣реЗрдВ рддреЛ рдЕрд╕реНрдкрддрд╛рд▓ рд▓реЗ рдЬрд╛рдПрдВ"
    }
};

function processInput() {
    const input = document.getElementById("userInput").value.toLowerCase();
    const chatbox = document.getElementById("chatbox");
    
    // Show user message
    chatbox.innerHTML += `<div class="user-msg">You: ${input}</div>`;
    
    // Find matching condition
    let found = false;
    for (const [engKey, data] of Object.entries(medicalDatabase)) {
        if (input.includes(engKey) || input.includes(data.hindi)) {
            chatbox.innerHTML += `
                <div class="ai-msg">
                    <strong>${data.hindi} (${engKey})</strong><br>
                    тЬЕ <u>рдХреНрдпрд╛ рдХрд░реЗрдВ:</u> ${data.advice}<br>
                    тЭМ <u>рдХреНрдпрд╛ рди рдХрд░реЗрдВ:</u> ${data.avoid}<br>
                    ЁЯЪи <u>рдЖрдкрд╛рддрдХрд╛рд▓:</u> ${data.emergency}
                </div>
            `;
            found = true;
            break;
        }
    }
    
    if (!found) {
        chatbox.innerHTML += `<div class="ai-msg">рдХреГрдкрдпрд╛ рд╕реНрдкрд╖реНрдЯ рд▓рдХреНрд╖рдг рдмрддрд╛рдПрдВ (рдЬреИрд╕реЗ: "рдмреБрдЦрд╛рд░ рд╣реИ", "рдкреЗрдЯ рдореЗрдВ рджрд░реНрдж")</div>`;
    }
    
    // Clear input
    document.getElementById("userInput").value = "";
    chatbox.scrollTop = chatbox.scrollHeight;
}

// Emergency function
function callAmbulance() {
    if(confirm("рдХреНрдпрд╛ рдЖрдк рдПрдореНрдмреБрд▓реЗрдВрд╕ рдмреБрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?")) {
        window.open("tel:102");
    }
}